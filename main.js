(()=>{"use strict";var e={d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{IK:()=>T,ZP:()=>S,zh:()=>O,JK:()=>C,q:()=>x,yJ:()=>b});const t=document.querySelector(".titleInput input"),n=(document.querySelector("#priority"),document.querySelector(".dateInput input")),l=document.querySelector(".tasksList"),a=(document.querySelector(".details span"),e=>{let t=e.target.parentElement.parentElement;const n=x.map((e=>e.tasks.map((e=>e.title))));console.log("this is mappedArr:",n),n.some((e=>e.includes(t.children[0].innerText)))&&(b.some((e=>{e.title===t.children[0].innerText&&(b.splice(b.indexOf(e),1),console.log(b))})),x.some((e=>{e.tasks.some((n=>{n.title===t.children[0].innerText&&(e.tasks.splice(e.tasks.indexOf(n),1),console.log("You Just deleted",t.children[0].innerText),console.log("this is the project:",e),console.log("this is the projects:",x),console.log(O,"is active"))}))})))}),s=document.querySelector("#navigation ul"),o=document.querySelector("#addProject"),c=()=>{let e=document.createElement("div");e.classList.add("project-container");let t=document.createElement("li");t.classList.add("project"),t.innerText=o.value;let n=document.createElement("span");n.innerText="X",n.classList.add("delete"),e.appendChild(t),e.appendChild(t),e.appendChild(n),s.appendChild(e);let l=new T(`${t.innerText}`,[]);x.push(l),C.push(o.value)},d=document.querySelector(".tasks-head span"),i=document.querySelector(".overlayDiv span"),r=document.querySelector(".fill-details"),p=document.querySelector(".fill-details span"),u=document.querySelector(".submitTask button"),m=document.querySelector(".title-warning"),y=document.querySelector(".projectAddWarning"),v=document.querySelector(".tasks-unavailable"),h=document.querySelector(".clickOnProject"),k=document.querySelector(".clickOnProject1"),g=document.querySelector(".nav-head span");l.addEventListener("click",(e=>{e.target.parentElement.classList.contains("task")&&e.target.parentElement.classList.toggle("completed")}));const L=()=>{y.style.display="block"},E=()=>{y.style.display="none"},f=()=>{l.innerHTML=""},q=()=>{l.classList.remove("clkPr"),h.style.display="none"};window.addEventListener("DOMContentLoaded",(()=>{x.forEach((e=>{let t=document.createElement("div");t.classList.add("project-container");let n=document.createElement("li");n.classList.add("project"),n.innerText=e.name;let l=document.createElement("span");l.innerText="X",l.classList.add("delete"),t.appendChild(n),t.appendChild(n),t.appendChild(l),s.appendChild(t)}))})),window.addEventListener("DOMContentLoaded",(()=>{x.forEach((e=>{e.tasks.forEach((e=>{b.push(e)}))})),x[0].tasks.forEach((e=>{let t=document.createElement("li");t.classList.add("task"),l.appendChild(t),t.innerHTML=`\n        <p>${e.title}</p>\n        <div class="details">\n            <form action="#">\n                <input type="date" name="date" id="dueDate" value="2021-05-31">\n            </form>\n            <span class= "delete">X</span>\n        </div>\n        `}))}));class S{constructor(e,t){this.title=e,this.dueDate=t}}class T{constructor(e,t){this.name=e,this.tasks=t}}const b=[],x=[new T("Default",[{title:"Go swimming",dueDate:"2021-5-31"},{title:"Workout",dueDate:"2021-5-31"}]),new T("other",[{title:"sleep",dueDate:"2021-5-31"},{title:"drive",dueDate:"2021-5-31"},{title:"Study",dueDate:"2021-5-31"}])];let C=x.map((e=>e.name)),D=(x.map((e=>e.tasks)),document.getElementsByClassName("project"));console.log(D);const j=document.querySelector("#navigation form");let O="Default";d.addEventListener("click",(()=>{i.classList.add("overlay"),document.querySelector("body").appendChild(i),r.style.display="block"})),p.addEventListener("click",(()=>{r.style.display="none",i.classList.remove("overlay")})),u.addEventListener("click",(e=>{e.preventDefault(),""===t.value?m.style.display="block":(m.style.display="none",(e=>{const a=document.createElement("li");a.classList.add("task"),a.innerHTML=`\n    <p>${t.value}</p>\n    <div class="details">\n        <form action="#">\n            <input type="date" name="date" id="dueDate" value="${n.value}">\n        </form>\n        <span class= "delete">X</span>\n    </div>\n    `;let s=new S(t.value,n.value);b.push(s),console.log(b),l.appendChild(a),v.style.display="none",t.value="",n.value="",1===x.length&&(O=x[0].name);for(let e=0;e<x.length;e++)x[e].name===O&&(console.log(x[e].name,"is found"),x[e].tasks.push(s),console.log(x))})())})),l.addEventListener("click",(e=>{var t;(t=e).target.classList.contains("delete")&&(t.target.parentElement.parentElement.remove(),a(t))})),g.addEventListener("click",(()=>{""===o.value?(L(),setTimeout(E,3e3)):(c(),o.value="",console.log(x))})),j.addEventListener("submit",(e=>{e.preventDefault()})),j.addEventListener("keyup",(e=>{13===e.keyCode&&(""===o.value?(L(),setTimeout(E,3e3)):(c(),o.value="",console.log(x)))})),s.addEventListener("click",(e=>{e.target.classList.contains("project")?(O=e.target.innerText,q(),console.log(O),f(),(e=>{let t=C.indexOf(e.target.innerText);if(C[t]&&x[t].tasks.length>0)try{x[t].tasks.forEach((e=>{let t=document.createElement("li");t.classList.add("task"),l.appendChild(t),t.innerHTML=`\n                <p>${e.title}</p>\n                <div class="details">\n                    <form action="#">\n                        <input type="date" name="date" id="dueDate" value="2021-05-31">\n                    </form>\n                    <span class= "delete">X</span>\n                </div>\n                    `,v.style.display="none"}))}catch(e){console.log("no tasks available"),v.style.display="block"}else console.log("no tasks available"),v.style.display="block"})(e),l.classList.remove("clkPr"),k.style.display="none"):e.target.classList.contains("delete")&&(e.target.parentElement.remove(),(e=>{let t=e.target.parentElement;x.forEach((e=>{e.name===t.children[0].innerText&&(x.splice(x.indexOf(e),1),C.splice(C.indexOf(e.name),1))}))})(e),f(),l.classList.add("clkPr"),h.style.display="block",0===x.length&&(q(),console.log("projects are ",x),l.classList.add("clkPr"),k.style.display="block",console.log(x)))}))})();